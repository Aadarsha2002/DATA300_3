---
title: "DATA 300 3 Homework 4 Solution"
author: "Aadarsha Gopala Reddy"
date: "October 27, 2022"
output:
  pdf_document:
    toc: true
  html_document:
    toc: true
    toc_float: true
    df_print: paged
---

```{r import-libraries, include=FALSE}
# an R program to scrape https://www.espncricinfo.com/player/team/india-6 for all information about the Indian International Cricket Team
library(rvest)
library(tidyverse)
library(dplyr)
library(xml2)
```
```{r get-html, include=TRUE}
# scrape the website
url <- "https://www.espncricinfo.com/player/team/india-6"
page <- read_html(url)
# output the html text to a text file
write_html(page, "/html_text.txt")
```
```{r get-data, include=TRUE}
compact_name = page %>%
  html_nodes(".ds-text-compact-l") %>%
  html_text()
name = page %>%
  html_nodes(".ds-text-tight-l") %>%
  html_text()
age <- page %>%
  html_nodes(".ds-text-tight-m.ds-font-regular.ds-text-ui-typo-mid") %>%
  html_text()

# convert to dataframe
players <- data.frame(compact_name, name, age, stringsAsFactors = FALSE)
# output the player list to a csv file
write.csv(players, "/players.csv")
```